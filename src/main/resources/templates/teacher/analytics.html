<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教学分析 - 教师工作台</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .navbar {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .sidebar {
            background: white;
            min-height: calc(100vh - 76px);
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }
        .sidebar .nav-link {
            color: #495057;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }
        .sidebar .nav-link:hover {
            background-color: #f8f9fa;
            color: #28a745;
        }
        .sidebar .nav-link.active {
            background-color: #28a745;
            color: white;
        }
        .main-content {
            padding: 2rem;
        }
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }
        .card-header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-radius: 15px 15px 0 0 !important;
            padding: 1.5rem;
        }
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border: none;
            border-radius: 10px;
        }
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .stats-card {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-radius: 15px;
            transition: all 0.3s ease;
        }
        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .teacher-badge {
            background: #28a745;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            margin-left: 0.5rem;
        }
        .chart-container {
            position: relative;
            height: 300px;
        }
        .metric-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }
        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #28a745;
        }
        .metric-label {
            color: #6c757d;
            font-size: 0.9rem;
        }
        .trend-up {
            color: #28a745;
        }
        .trend-down {
            color: #dc3545;
        }
        .progress-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: conic-gradient(#28a745 0deg 270deg, #e9ecef 270deg 360deg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin: 0 auto 1rem;
        }
        .progress-circle::before {
            content: '';
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: white;
            position: absolute;
        }
        .progress-text {
            position: relative;
            z-index: 1;
            font-weight: bold;
            color: #28a745;
        }
        .course-performance {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
        }
        .performance-bar {
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
            overflow: hidden;
        }
        .performance-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/edu/teacher/dashboard">
                <i class="fas fa-chalkboard-teacher me-2"></i>教师工作台
            </a>
            
            <div class="navbar-nav ms-auto">
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user me-1"></i>
                        <span th:text="${user != null ? user.realName : '教师'}">教师</span>
                        <span class="teacher-badge">TEACHER</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/edu/teacher/profile">
                            <i class="fas fa-user me-2"></i>个人资料
                        </a></li>
                        <li><a class="dropdown-item" href="/edu/teacher/settings">
                            <i class="fas fa-cog me-2"></i>教学设置
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/edu/student/dashboard">
                            <i class="fas fa-user me-2"></i>切换到学生视图
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/edu/auth/logout">
                            <i class="fas fa-sign-out-alt me-2"></i>退出登录
                        </a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- 侧边栏 -->
            <div class="col-md-3 col-lg-2 px-0">
                <div class="sidebar">
                    <nav class="nav flex-column">
                        <a class="nav-link" href="/edu/teacher/dashboard">
                            <i class="fas fa-tachometer-alt me-2"></i>工作台
                        </a>
                        <a class="nav-link" href="/edu/teacher/courses">
                            <i class="fas fa-book me-2"></i>课程管理
                        </a>
                        <a class="nav-link" href="/edu/teacher/students">
                            <i class="fas fa-users me-2"></i>学生管理
                        </a>
                        <a class="nav-link" href="/edu/teacher/assignments">
                            <i class="fas fa-tasks me-2"></i>作业管理
                        </a>
                        <a class="nav-link" href="/edu/teacher/grades">
                            <i class="fas fa-chart-line me-2"></i>成绩管理
                        </a>
                        <a class="nav-link" href="/edu/teacher/resources">
                            <i class="fas fa-folder-open me-2"></i>教学资源
                        </a>
                        <a class="nav-link" href="/edu/teacher/schedule">
                            <i class="fas fa-calendar me-2"></i>课程安排
                        </a>
                        <a class="nav-link active" href="/edu/teacher/analytics">
                            <i class="fas fa-chart-bar me-2"></i>教学分析
                        </a>
                    </nav>
                </div>
            </div>

            <!-- 主内容区 -->
            <div class="col-md-9 col-lg-10">
                <div class="main-content">
                    <!-- 页面标题 -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2><i class="fas fa-chart-bar me-2"></i>教学分析</h2>
                        <div>
                            <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#reportModal">
                                <i class="fas fa-file-export me-1"></i>生成报告
                            </button>
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="/edu/teacher/dashboard">工作台</a></li>
                                    <li class="breadcrumb-item active">教学分析</li>
                                </ol>
                            </nav>
                        </div>
                    </div>

                    <!-- 核心指标 -->
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card stats-card text-center">
                                <div class="card-body">
                                    <i class="fas fa-users fa-2x mb-2"></i>
                                    <h4>1,234</h4>
                                    <small>总学生数</small>
                                    <div class="mt-2">
                                        <small class="trend-up">
                                            <i class="fas fa-arrow-up me-1"></i>+12%
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center" style="background: #17a2b8; color: white;">
                                <div class="card-body">
                                    <i class="fas fa-clock fa-2x mb-2"></i>
                                    <h4>156h</h4>
                                    <small>总授课时长</small>
                                    <div class="mt-2">
                                        <small class="text-light">
                                            <i class="fas fa-arrow-up me-1"></i>+8%
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center" style="background: #ffc107; color: #212529;">
                                <div class="card-body">
                                    <i class="fas fa-star fa-2x mb-2"></i>
                                    <h4>4.8</h4>
                                    <small>平均评分</small>
                                    <div class="mt-2">
                                        <small class="text-success">
                                            <i class="fas fa-arrow-up me-1"></i>+0.2
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card text-center" style="background: #28a745; color: white;">
                                <div class="card-body">
                                    <i class="fas fa-graduation-cap fa-2x mb-2"></i>
                                    <h4>89%</h4>
                                    <small>完成率</small>
                                    <div class="mt-2">
                                        <small class="text-light">
                                            <i class="fas fa-arrow-up me-1"></i>+5%
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 详细分析指标 -->
                    <div class="row mb-4">
                        <div class="col-md-2">
                            <div class="metric-card">
                                <div class="progress-circle">
                                    <div class="progress-text">85%</div>
                                </div>
                                <div class="metric-label">学生活跃度</div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="metric-card">
                                <div class="metric-value">92%</div>
                                <div class="metric-label">作业提交率</div>
                                <small class="trend-up">
                                    <i class="fas fa-arrow-up me-1"></i>+3%
                                </small>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="metric-card">
                                <div class="metric-value">76%</div>
                                <div class="metric-label">课程完成率</div>
                                <small class="trend-up">
                                    <i class="fas fa-arrow-up me-1"></i>+8%
                                </small>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="metric-card">
                                <div class="metric-value">4.6</div>
                                <div class="metric-label">互动频率</div>
                                <small class="trend-down">
                                    <i class="fas fa-arrow-down me-1"></i>-0.2
                                </small>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="metric-card">
                                <div class="metric-value">68min</div>
                                <div class="metric-label">平均学习时长</div>
                                <small class="trend-up">
                                    <i class="fas fa-arrow-up me-1"></i>+12min
                                </small>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="metric-card">
                                <div class="metric-value">234</div>
                                <div class="metric-label">问题解答数</div>
                                <small class="trend-up">
                                    <i class="fas fa-arrow-up me-1"></i>+15
                                </small>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <!-- 学生参与度趋势 -->
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">
                                        <i class="fas fa-chart-line me-2"></i>学生参与度趋势
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="engagementChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 课程表现排名 -->
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">
                                        <i class="fas fa-trophy me-2"></i>课程表现排名
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <div class="course-performance">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>Java从入门到精通</strong>
                                            <span class="text-success">95%</span>
                                        </div>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 95%"></div>
                                        </div>
                                        <small class="text-muted">156名学生 • 4.9评分</small>
                                    </div>

                                    <div class="course-performance">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>Python数据分析</strong>
                                            <span class="text-success">88%</span>
                                        </div>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 88%"></div>
                                        </div>
                                        <small class="text-muted">89名学生 • 4.7评分</small>
                                    </div>

                                    <div class="course-performance">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>React全栈开发</strong>
                                            <span class="text-warning">76%</span>
                                        </div>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 76%"></div>
                                        </div>
                                        <small class="text-muted">67名学生 • 4.5评分</small>
                                    </div>

                                    <div class="course-performance">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>Vue.js前端开发</strong>
                                            <span class="text-warning">72%</span>
                                        </div>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 72%"></div>
                                        </div>
                                        <small class="text-muted">45名学生 • 4.3评分</small>
                                    </div>

                                    <div class="course-performance">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>数据库系统原理</strong>
                                            <span class="text-danger">65%</span>
                                        </div>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 65%"></div>
                                        </div>
                                        <small class="text-muted">38名学生 • 4.1评分</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <!-- 成绩分布 -->
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">
                                        <i class="fas fa-chart-pie me-2"></i>成绩分布
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="gradeDistributionChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 学习时间分析 -->
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">
                                        <i class="fas fa-clock me-2"></i>学习时间分析
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="studyTimeChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 学生反馈分析 -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-comments me-2"></i>学生反馈分析
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="chart-container">
                                        <canvas id="feedbackChart"></canvas>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <h6>最新反馈</h6>
                                    <div class="mb-3 p-3 bg-light rounded">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>张小明</strong>
                                            <div>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                            </div>
                                        </div>
                                        <p class="mb-1">"老师讲解很清晰，例子很实用，学到了很多实际开发技巧。"</p>
                                        <small class="text-muted">Java从入门到精通 • 2小时前</small>
                                    </div>

                                    <div class="mb-3 p-3 bg-light rounded">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>李小红</strong>
                                            <div>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="far fa-star text-muted"></i>
                                            </div>
                                        </div>
                                        <p class="mb-1">"课程内容丰富，但希望能增加更多实战项目。"</p>
                                        <small class="text-muted">Python数据分析 • 5小时前</small>
                                    </div>

                                    <div class="mb-3 p-3 bg-light rounded">
                                        <div class="d-flex justify-content-between mb-2">
                                            <strong>王大强</strong>
                                            <div>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                            </div>
                                        </div>
                                        <p class="mb-1">"非常棒的课程！老师回答问题很及时。"</p>
                                        <small class="text-muted">React全栈开发 • 1天前</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 改进建议 -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="fas fa-lightbulb me-2"></i>AI智能建议
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="alert alert-success">
                                        <h6><i class="fas fa-thumbs-up me-2"></i>表现优秀</h6>
                                        <p class="mb-0">Java课程的学生参与度和完成率都很高，继续保持现有的教学方式。</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="alert alert-warning">
                                        <h6><i class="fas fa-exclamation-triangle me-2"></i>需要关注</h6>
                                        <p class="mb-0">数据库课程的完成率较低，建议增加实践环节和答疑时间。</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="alert alert-info">
                                        <h6><i class="fas fa-info-circle me-2"></i>优化建议</h6>
                                        <p class="mb-0">可以考虑在React课程中增加更多的项目实战案例。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 生成报告模态框 -->
    <div class="modal fade" id="reportModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-file-export me-2"></i>生成教学分析报告
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label class="form-label">报告类型</label>
                            <select class="form-select">
                                <option>综合教学分析报告</option>
                                <option>学生表现分析报告</option>
                                <option>课程效果评估报告</option>
                                <option>教学质量改进报告</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">时间范围</label>
                            <select class="form-select">
                                <option>最近一周</option>
                                <option>最近一个月</option>
                                <option>最近三个月</option>
                                <option>本学期</option>
                                <option>自定义时间</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">包含课程</label>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">Java从入门到精通</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">Python数据分析</label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">React全栈开发</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">Vue.js前端开发</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">报告格式</label>
                            <select class="form-select">
                                <option>PDF格式</option>
                                <option>Excel格式</option>
                                <option>Word格式</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-success">
                        <i class="fas fa-download me-1"></i>生成并下载
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // 学生参与度趋势图
        const engagementCtx = document.getElementById('engagementChart').getContext('2d');
        new Chart(engagementCtx, {
            type: 'line',
            data: {
                labels: ['第1周', '第2周', '第3周', '第4周', '第5周', '第6周', '第7周', '第8周'],
                datasets: [{
                    label: '参与度',
                    data: [75, 78, 82, 85, 83, 87, 89, 92],
                    borderColor: '#28a745',
                    backgroundColor: 'rgba(40, 167, 69, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: '完成率',
                    data: [68, 72, 76, 79, 81, 84, 86, 88],
                    borderColor: '#20c997',
                    backgroundColor: 'rgba(32, 201, 151, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // 成绩分布饼图
        const gradeCtx = document.getElementById('gradeDistributionChart').getContext('2d');
        new Chart(gradeCtx, {
            type: 'doughnut',
            data: {
                labels: ['优秀 (90-100)', '良好 (80-89)', '中等 (70-79)', '及格 (60-69)', '不及格 (<60)'],
                datasets: [{
                    data: [28, 35, 22, 12, 3],
                    backgroundColor: [
                        '#28a745',
                        '#20c997',
                        '#ffc107',
                        '#fd7e14',
                        '#dc3545'
                    ]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // 学习时间分析柱状图
        const studyTimeCtx = document.getElementById('studyTimeChart').getContext('2d');
        new Chart(studyTimeCtx, {
            type: 'bar',
            data: {
                labels: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
                datasets: [{
                    label: '平均学习时长(分钟)',
                    data: [45, 52, 48, 65, 58, 72, 38],
                    backgroundColor: 'rgba(40, 167, 69, 0.8)',
                    borderColor: '#28a745',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // 学生反馈雷达图
        const feedbackCtx = document.getElementById('feedbackChart').getContext('2d');
        new Chart(feedbackCtx, {
            type: 'radar',
            data: {
                labels: ['课程内容', '教学方式', '互动效果', '作业难度', '答疑及时性', '整体满意度'],
                datasets: [{
                    label: '学生评分',
                    data: [4.8, 4.6, 4.5, 4.2, 4.7, 4.8],
                    borderColor: '#28a745',
                    backgroundColor: 'rgba(40, 167, 69, 0.2)',
                    pointBackgroundColor: '#28a745',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#28a745'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 5,
                        ticks: {
                            stepSize: 1
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>